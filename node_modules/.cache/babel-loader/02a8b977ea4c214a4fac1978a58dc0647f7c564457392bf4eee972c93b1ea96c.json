{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gonch\\\\OneDrive\\\\Desktop\\\\deseosdedos\\\\src\\\\components\\\\SharedWishList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { database, auth } from '../services/firebase';\nimport { ref, onValue, push, remove } from 'firebase/database';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SharedWishList = () => {\n  _s();\n  const [sharedLists, setSharedLists] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [currentListId, setCurrentListId] = useState(null);\n  useEffect(() => {\n    const currentUser = auth.currentUser;\n    if (currentUser) {\n      const sharedListsRef = ref(database, 'sharedLists');\n      onValue(sharedListsRef, snapshot => {\n        const data = snapshot.val();\n        if (data) {\n          const userSharedLists = Object.entries(data).filter(([_, value]) => value.owners.includes(currentUser.uid)).map(([key, value]) => ({\n            id: key,\n            ...value\n          }));\n          setSharedLists(userSharedLists);\n          if (userSharedLists.length > 0 && !currentListId) {\n            setCurrentListId(userSharedLists[0].id);\n          }\n        }\n      });\n    }\n  }, [currentListId]);\n  useEffect(() => {\n    if (currentListId) {\n      const eventsRef = ref(database, `sharedLists/${currentListId}/events`);\n      onValue(eventsRef, snapshot => {\n        const data = snapshot.val();\n        if (data) {\n          const eventList = Object.entries(data).map(([key, value]) => ({\n            id: key,\n            ...value\n          }));\n          setEvents(eventList);\n        } else {\n          setEvents([]);\n        }\n      });\n    }\n  }, [currentListId]);\n  const addEvent = newEvent => {\n    if (currentListId) {\n      const eventsRef = ref(database, `sharedLists/${currentListId}/events`);\n      push(eventsRef, newEvent);\n    }\n  };\n  const deleteEvent = eventId => {\n    if (currentListId) {\n      const eventRef = ref(database, `sharedLists/${currentListId}/events/${eventId}`);\n      remove(eventRef);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"page-title\",\n      children: \"Lista de Deseos Compartida\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: currentListId || '',\n      onChange: e => setCurrentListId(e.target.value),\n      className: \"input\",\n      children: sharedLists.map(list => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: list.id,\n        children: [\"Lista compartida con \", list.invitedEmail]\n      }, list.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n_s(SharedWishList, \"sA8zKc2ObNpH21tV/5pcOGY18vQ=\");\n_c = SharedWishList;\nexport default SharedWishList;\nvar _c;\n$RefreshReg$(_c, \"SharedWishList\");","map":{"version":3,"names":["React","useState","useEffect","database","auth","ref","onValue","push","remove","jsxDEV","_jsxDEV","SharedWishList","_s","sharedLists","setSharedLists","events","setEvents","currentListId","setCurrentListId","currentUser","sharedListsRef","snapshot","data","val","userSharedLists","Object","entries","filter","_","value","owners","includes","uid","map","key","id","length","eventsRef","eventList","addEvent","newEvent","deleteEvent","eventId","eventRef","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","list","invitedEmail","_c","$RefreshReg$"],"sources":["C:/Users/gonch/OneDrive/Desktop/deseosdedos/src/components/SharedWishList.js"],"sourcesContent":["    import React, { useState, useEffect } from 'react';\r\n    import { database, auth } from '../services/firebase';\r\n    import { ref, onValue, push, remove } from 'firebase/database';\r\n\r\n    const SharedWishList = () => {\r\n    const [sharedLists, setSharedLists] = useState([]);\r\n    const [events, setEvents] = useState([]);\r\n    const [currentListId, setCurrentListId] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const currentUser = auth.currentUser;\r\n        if (currentUser) {\r\n        const sharedListsRef = ref(database, 'sharedLists');\r\n        onValue(sharedListsRef, (snapshot) => {\r\n            const data = snapshot.val();\r\n            if (data) {\r\n            const userSharedLists = Object.entries(data)\r\n                .filter(([_, value]) => value.owners.includes(currentUser.uid))\r\n                .map(([key, value]) => ({ id: key, ...value }));\r\n            setSharedLists(userSharedLists);\r\n            if (userSharedLists.length > 0 && !currentListId) {\r\n                setCurrentListId(userSharedLists[0].id);\r\n            }\r\n            }\r\n        });\r\n        }\r\n    }, [currentListId]);\r\n\r\n    useEffect(() => {\r\n        if (currentListId) {\r\n        const eventsRef = ref(database, `sharedLists/${currentListId}/events`);\r\n        onValue(eventsRef, (snapshot) => {\r\n            const data = snapshot.val();\r\n            if (data) {\r\n            const eventList = Object.entries(data).map(([key, value]) => ({ id: key, ...value }));\r\n            setEvents(eventList);\r\n            } else {\r\n            setEvents([]);\r\n            }\r\n        });\r\n        }\r\n    }, [currentListId]);\r\n\r\n    const addEvent = (newEvent) => {\r\n        if (currentListId) {\r\n        const eventsRef = ref(database, `sharedLists/${currentListId}/events`);\r\n        push(eventsRef, newEvent);\r\n        }\r\n    };\r\n\r\n    const deleteEvent = (eventId) => {\r\n        if (currentListId) {\r\n        const eventRef = ref(database, `sharedLists/${currentListId}/events/${eventId}`);\r\n        remove(eventRef);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"page\">\r\n        <h2 className=\"page-title\">Lista de Deseos Compartida</h2>\r\n        <select\r\n            value={currentListId || ''}\r\n            onChange={(e) => setCurrentListId(e.target.value)}\r\n            className=\"input\"\r\n        >\r\n            {sharedLists.map((list) => (\r\n            <option key={list.id} value={list.id}>\r\n                Lista compartida con {list.invitedEmail}\r\n            </option>\r\n            ))}\r\n        </select>\r\n        {/* Aquí puedes reutilizar la lógica de WishList para mostrar y añadir eventos */}\r\n        </div>\r\n    );\r\n    };\r\n\r\n    export default SharedWishList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}